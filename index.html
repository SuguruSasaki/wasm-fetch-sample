<!DOCTYPE html>
<html lang="ja">

<head>
  <meta charset="UTF-8">
  <title>Hello, WebAssembly!</title>
  <script type="module">
    import init, { hello, add, request} from "../pkg/wasm_dev_bool_hello_world.js";

    (async () => {
      await init();
      setTimeout(() => hello('World'), 300);
      const n = add(10, 20);
      document.getElementById("root").innerHTML = n;
      const res = await request("https://api.github.com/users/octocat");
      console.log(res);
      const json = JSON.parse(res);
      document.getElementById("result").innerHTML = json["url"]
    })(); 
   
  </script>
</head>
<body>
  <div id="root"></div>
  <div id="result"></div>
</body>

</html>